# Argo CD + Kustomize Playground

## References

- [Argo CD - Declarative GitOps CD for Kubernetes](https://argoproj.github.io/argo-cd/)
- [Getting Started - Argo CD - Declarative GitOps CD for Kubernetes](https://argoproj.github.io/argo-cd/getting_started/)
- [argoproj/argocd-example-apps: Example Apps to Demonstrate Argo CD](https://github.com/argoproj/argocd-example-apps)

## Install Argo CD

```
$ kubectl create namespace argocd
$ kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
```

## Download Argo CD CLI

```
$ brew tap argoproj/tap
$ brew install argoproj/tap/argocd
```

## Access The Argo CD API Server

```
$ kubectl port-forward svc/argocd-server -n argocd 8080:443
```

The API server can then be accessed using the localhost:8080

## Login Using The CLI

Login as the `admin` user. The initial password is autogenerated to be the pod name of the Argo CD API server. This can be retrieved with the command:

```
$ kubectl get pods -n argocd -l app.kubernetes.io/name=argocd-server -o name | cut -d'/' -f 2
```

Using the above password, login to Argo CD's IP or hostname:

```
$ argocd login <ARGOCD_SERVER>
```

Change the password using the command:

```
$ argocd account update-password
```

